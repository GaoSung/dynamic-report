<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="initial-scale=1.0, maximum-scale=2.0">
	<title>报表引擎</title>
	<link rel="stylesheet" href="/lib/bootstrap/3.3.6/css/bootstrap.min.css">
	<script src="/lib/jquery/1.12.0/jquery.min.js"></script>
</head>
<body>
	<nav class="navbar navbar-inverse">
		<div class="container">
			<div class="navbar-header">
				<a class="navbar-brand" href="">报表引擎</a>
			</div>
			<div id="navbar" class="collapse navbar-collapse">
				<ul class="nav navbar-nav">
					<li class="active"><a href="/index.html">报表配置</a></li>
					<li class=""><a href="/user-report.html">用户报表</a></li>
					<li class=""><a href="/search.html">报表查询</a></li>
				</ul>
			</div>
		</div>
	</nav>
	<div class="container">
		<table id="serviceTable" class="table table-striped table-bordered" cellspacing="0" width="100%">
	        <thead>
	            <tr>
	                <th>报表</th>
	                <th>数据源</th>
	            </tr>
	        </thead>
	        <tbody>
	        	<tr>
	        		<td>财务报表</td>
	        		<td>finance/settlement</td>
	        	</tr>
	        	<tr>
	        		<td>O2O门店报表</td>
	        		<td>O2O/store</td>
	        	</tr>
	        </tbody>
	    </table>
		<div>
			<h3>新增配置</h3>
			<form class="form-horizontal" role="form" method="post" >
			  <div class="form-group">
			    <label class="col-sm-2 control-label">报表名称</label>
			    <div class="col-sm-2">
			      <input type="text" class="form-control" value="财务报表">
			    </div>
			  </div>
			  <div class="form-group">
			    <label class="col-sm-2 control-label">数据源</label>
			    <div class="col-sm-2">
			      <input type="text" class="form-control" value="finance/settlement"> (ES索引)
			    </div>
			  </div>
			  <h5>字段配置  (从ES中拉出来的字段)</h5>
			  <div class="form-group">
			    <label class="col-sm-2 control-label">orderId</label>
			    <div class="col-sm-2">
			      <input type="text" class="form-control" placeholder="显示名称" value="订单ID">
			    </div>
			    <div class="col-sm-2">
			      <select class="form-control">
			      	<option>INPUT</option>
			      	<option>SELECT</option>
			      	<option>RADIO</option>
			      	<option>CHECKBOX</option>
			      	<option>RANGE</option>
			      	<option>DATETIME</option>
			      	<option>RANGE_DATETIME</option>
			      </select>
			    </div>
			  </div>
			  <div class="form-group">
			    <label class="col-sm-2 control-label">productId</label>
			    <div class="col-sm-2">
			      <input type="text" class="form-control"  placeholder="显示名称" value="产品ID">
			    </div>
			    <div class="col-sm-2">
			      <select class="form-control">
			      	<option>INPUT</option>
			      	<option>SELECT</option>
			      	<option>RADIO</option>
			      	<option>CHECKBOX</option>
			      	<option>RANGE</option>
			      	<option>DATETIME</option>
			      	<option>RANGE_DATETIME</option>
			      </select>
			    </div>
			  </div>
			  <div class="form-group">
			    <label class="col-sm-2 control-label">productName</label>
			    <div class="col-sm-2">
			      <input type="text" class="form-control"  placeholder="显示名称" value="产品名称">
			    </div>
			    <div class="col-sm-2">
			      <select class="form-control">
			      	<option>INPUT</option>
			      	<option>SELECT</option>
			      	<option>RADIO</option>
			      	<option>CHECKBOX</option>
			      	<option>RANGE</option>
			      	<option>DATETIME</option>
			      	<option>RANGE_DATETIME</option>
			      </select>
			    </div>
			  </div>
			  <div class="form-group">
			    <label class="col-sm-2 control-label">orderPrice</label>
			    <div class="col-sm-2">
			      <input type="text" class="form-control"  placeholder="显示名称" value="订单金额">
			    </div>
			    <div class="col-sm-2">
			      <select class="form-control">
			      	<option>INPUT</option>
			      	<option>SELECT</option>
			      	<option>RADIO</option>
			      	<option>CHECKBOX</option>
			      	<option>RANGE</option>
			      	<option>DATETIME</option>
			      	<option>RANGE_DATETIME</option>
			      </select>
			    </div>
			  </div>
			  <div class="form-group">
			    <label class="col-sm-2 control-label">distributorName</label>
			    <div class="col-sm-2">
			      <input type="text" class="form-control"  placeholder="显示名称" value="供应商名称">
			    </div>
			    <div class="col-sm-2">
			      <select class="form-control">
			      	<option>INPUT</option>
			      	<option>SELECT</option>
			      	<option>RADIO</option>
			      	<option>CHECKBOX</option>
			      	<option>RANGE</option>
			      	<option>DATETIME</option>
			      	<option>RANGE_DATETIME</option>
			      </select>
			    </div>
			  </div>
			  <div class="form-group">
			    <label class="col-sm-2 control-label">orderDate</label>
			    <div class="col-sm-2">
			      <input type="text" class="form-control"  placeholder="显示名称" value="下单日期">
			    </div>
			    <div class="col-sm-2">
			      <select class="form-control">
			      	<option>INPUT</option>
			      	<option>SELECT</option>
			      	<option>RADIO</option>
			      	<option>CHECKBOX</option>
			      	<option>RANGE</option>
			      	<option>DATETIME</option>
			      	<option>RANGE_DATETIME</option>
			      </select>
			    </div>
			  </div>
			</form>
		</div>	    
	</div>
<script type="text/javascript">
$(function(){
	var optionArray = ["SELECT","RADIO","CHECKBOX"];
	$("select").each(function(){
		$(this).on("change", function(){
			$(this).parents(".form-group").find(".s_option").remove();
			var opt = $(this).children(":checked").text();
			if($.inArray(opt, optionArray) != -1) {
				$(this).parent().after("<div class='col-sm-2'><input type='text' class='form-control s_option'></div>")
			}
		});
	});
});
</script>	
</body>
</html>